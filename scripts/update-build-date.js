const fs = require('fs');
const path = require('path');
const packageJson = require('../package.json');

const version = packageJson.version;
const date = new Date().toLocaleDateString('es-CL', {
    day: '2-digit',
    month: '2-digit',
    year: 'numeric'
});

const content = `// This file is auto-generated by scripts/update-build-date.js
export const APP_VERSION = 'v${version}';
export const DEPLOY_DATE = '${date}';
`;

const filePath = path.join(__dirname, '../src/lib/version.ts');

fs.writeFileSync(filePath, content, 'utf8');
console.log(`Updated ${filePath} with version ${version} and date ${date}`);
